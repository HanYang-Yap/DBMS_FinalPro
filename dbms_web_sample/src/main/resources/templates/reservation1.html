<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>預約網頁</title>


        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
            integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
            crossorigin="anonymous"></script>


            
         <!-- Firebase App (必要) -->
         <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
         <!-- 包含其他 Firebase 服務的 SDK，例如 Authentication -->
         <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
         <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>



        <style>
            /* Add your CSS styles here */
            body {
                font-family: Arial, sans-serif;
                margin-bottom: 20px; 
                padding-bottom: 20px;
            }
            .container {
                /* display: flex; */
                /*justify-content: space-between;*/
                /* flex-direction: column; */
                align-items: flex-start;
                margin-top: 20px;
                
            }
            .dropdown-container {
                flex: 1;
                padding: 1.5%;
                
                /* width: 25%;
                padding-left: 150px; */
            }
            .dropdown {
                color: white;
                font-weight: bold;
            }
            .dropdown label {
                display: block;
                margin-bottom: 5px;
                background-color: #b0d6e5;
                padding: 5px;
                border-radius: 2px;
            }
            .dropdown select {
                width: calc(100% - 16px); /* 使用 calc() 函數計算寬度，並減去預期的內邊距 */
                padding: 8px;
                border-radius: 5px;
                border: 1px solid #ccc;
            }
            .people-selection {
                display: flex;
                justify-content: space-between;
                align-items: center;
                background-color: #b0d6e5;
                padding: 5px;
                border-radius: 5px;
            }
            .people-selection button {
                background-color: transparent;
                border: none;
                cursor: pointer;
                font-size: 16px;
                font-weight: bold;
            }
            .venue-image {
                width: 100%; 
                
            }
            @media (max-width: 768px) {
            .venue-image {
            width: 80%; /* Adjust the width for smaller screens */
            }
            }
            .button-container {
                width: 100%;
                margin-top: 20px;
                text-align: center;
            }
            .button {
                padding: 10px 20px;
                margin: 0 10px;
                font-size: 16px;
                cursor: pointer;
                background-color: #b0d6e5; /* 背景色 */
                color: white; /* 文字顏色 */
                border: none;
                font-weight: bold; /* 粗體 */
                box-shadow: 3px 3px 3px rgba(0,0,0,0.3); /* 淺陰影 */
                border-radius: 7px; /* 使用百分比值設定圓角，將按鈕變成圓形 */
            }

            .calendar {
                width:80%;
                margin: 0 auto;
            }

            .title2 {
                text-align: center;
                margin-top: 5px;
                margin-bottom: 5px;
                color: white;
            }
            
            .contentRTQ {
                text-align: center;
                height: 210px;
                margin-top: 40px;
                overflow: auto;
                font-size: 70px;
                color: white;
            }
            .contentNoti {
                height: 210px;
                overflow: auto;
                float: left;
                margin: 0 25px;
            }
            .contentNoti p {
                line-height: 0.9;
            }

        </style>
    </head>
    <body>

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                
                <a class="navbar-brand" href="#">
                    <div id="current_date" style="font-weight: bold; font-size: smaller;">
                        <script>
                            // Get the current date
                            var currentDate = new Date().toLocaleString();
                            
                            // Concatenate "Login time:" with the date string
                            var dateTimeString = "(登入時間) " + currentDate;
                            
                            // Set the concatenated string as the inner HTML of the div
                            document.getElementById("current_date").innerHTML = dateTimeString;
                        </script>
                    </div>
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <span class="navbar-text ms-auto">
                        User: <span id="user-nickname"></span>
                    </span>
                </div>
            </div>
        </nav>
        

        <div class="container">
            <div class="dropdown-container"> <!-- 使用 margin-left:auto; 使其置右 -->
                <div class="dropdown">
                    <label for="venue">預約場地：</label>
                    <select id="venue">
                        <option value="venue1">羽球場</option>
                        <option value="venue2">籃球場</option>
                        <option value="venue3">排球場</option>
                        <!--<option value="venue4">場地4</option>
                        <option value="venue5">綜合球類練習區</option>
                        <option value="venue6">六期運動場</option>-->
                    </select>
                </div>
            </div>
            <div class="dropdown-container" > <!-- 使用 margin-left:auto; 使其置右 /  style="margin-right:auto;"-->
                <div class="dropdown">
                    <label for="people">預約人數：</label>
                    <select id="people">
                        <option value="1">1人</option>
                        <option value="2">2人</option>
                        <option value="3">3人</option>
                        <option value="4">4人</option>
                        <option value="5">5人</option>
                        <option value="6">6人</option>
                        <option value="7">7人</option>
                        <option value="8">8人</option>
                        <option value="9">9人</option>
                        <option value="10">10人</option>
                    </select>
                </div>
            </div>
            <div class="dropdown-container"> <!-- 使用 margin-left:auto; 使其置右 -->
                <div class="dropdown">
                    <label for="time">預約時間：</label>
                    <select id="time">
                        <option value="time1">9:00 - 12:00</option>
                        <option value="time2">12:00 - 15:00</option>
                        <option value="time3">15:00 - 18:00</option>
                        <option value="time4">18:00 - 21:00</option>
                        <!--<option value="venue4">場地4</option>
                        <option value="venue5">綜合球類練習區</option>
                        <option value="venue6">六期運動場</option>-->
                    </select>
                </div>
            </div>
            
            <div class="dropdown-container"> <!-- 使用 margin-left:auto; 使其置右 -->
                <div class="dropdown">
                    <label for="time">預約時間：</label>
                    <select id="time">
                        <option value="time1">9:00 - 12:00</option>
                        <option value="time2">12:00 - 15:00</option>
                        <option value="time3">15:00 - 18:00</option>
                        <option value="time4">18:00 - 21:00</option>
                        <!--<option value="venue4">場地4</option>
                        <option value="venue5">綜合球類練習區</option>
                        <option value="venue6">六期運動場</option>-->
                    </select>
                </div>
            </div>

            <!--<img src="venue.png" alt="Combined Venue Image" class="venue-image"> -->
            </div>
            <div class="button-container">
                <button class="button button-secondary">空位查看</button>
                <button class="button button-primary">確認預約</button>
            </div>
        </div>


        <div id='calendar' class="calendar"></div>
            <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    var calendarEl = document.getElementById('calendar');
                    var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: 'dayGridMonth'
                    });
                    calendar.render();
                });
            </script>
        </div>


        <script>
            // 從 Firebase 控制台獲取的配置對象
            const firebaseConfig = {
              apiKey: "AIzaSyANq5gccfu7i5d6JVNUE8Uw8YSKIvJUZko",
              authDomain: "db-github-11ca8.firebaseapp.com",
              projectId: "db-github-11ca8",
              storageBucket: "db-github-11ca8.appspot.com",
              messagingSenderId: "236802727820",
              appId: "1:236802727820:web:27b36c651eb849c1ed40a9"
              //measurementId: "G-CYR5VZ24PX"
            };
          
            // 初始化 Firebase
            firebase.initializeApp(firebaseConfig);
            
            // 初始化 Firestore
            const db = firebase.firestore();

            // 預約表單提交事件
            document.getElementById('reservation-form').addEventListener('submit', function (event) {
                event.preventDefault();

                // 獲取表單字段值
                const date = document.getElementById('date').value;
                const people = document.getElementById('people').value;
                const location = document.getElementById('location').value;

                // 將數據存儲到 Firestore
                db.collection('reservations').add({
                    date: date,
                    people: people,
                    location: location
                }).then(function () {
                    alert('預約已成功保存！');
                }).catch(function (error) {
                    console.error('Error adding document: ', error);
                    alert('預約保存失敗，請重試。');
                });
            });
        
        </script>

        
    </body>
</html>